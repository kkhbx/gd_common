(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1010:function(s,n,a){"use strict";a.r(n);var e=a(43),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"组件编写及发布"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件编写及发布"}},[s._v("#")]),s._v(" 组件编写及发布")]),s._v(" "),n("p",[s._v("安装完依赖之后,确保项目能跑起来之后开始编写组件")]),s._v(" "),n("p",[s._v("运行命令 npm run comp gd_xxx,同时创建组件库以及例子的文件夹和 vue 文件")]),s._v(" "),n("p",[s._v("举例:"),n("font",{attrs:{color:"red"}},[s._v(" npm run comp gd_demo")])],1),s._v(" "),n("p",[s._v("这时你会发现 "),n("font",{attrs:{color:"red"}},[s._v(" components ")]),s._v(" 文件夹下会多出来一个 "),n("font",{attrs:{color:"red"}},[s._v("gd_demo ")]),s._v(" 的文件目录和 "),n("font",{attrs:{color:"red"}},[s._v("index.vue ")]),s._v("文件,该文件就是你编写改组件的文件")],1),s._v(" "),n("p",[n("font",{attrs:{color:"red"}},[s._v("examples ")]),s._v(" 文件夹下会多出来一个 "),n("font",{attrs:{color:"red"}},[s._v(" gd_demo.vue ")]),s._v(" ,该文件是你写完该组件后要在此组件测试你刚刚写的组件是否通过使用测试验证的例子")],1),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("npm run comp gd_demo\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如图所示:")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-demo1.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("该文件就是你刚刚运行命令 npm run comp gd_demo 创建的实例")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-demo2.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("写好测试用例之后如何访问,就是你的 ip 和端口,以及刚刚"),n("font",{attrs:{color:"red"}},[s._v(" gd_demo.vue ")]),s._v("文件的 "),n("font",{attrs:{color:"red"}},[s._v(" name")]),s._v(" 属性访问,如图所示:")],1),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-demo3.png",alt:"An image"}})]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-demo4.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("如果该组件测试通过之后即可上传到库中")]),s._v(" "),n("p",[s._v("上传之前查看是否登录了 npm")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("npm who am i\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果没有登陆的话,则运行登录命令 npm login,")]),s._v(" "),n("p",[s._v("运行命令之后会提示登录用户名, Username: 请输入: "),n("font",{attrs:{color:"red"}},[s._v(" a1218331130 ")])],1),s._v(" "),n("p",[s._v("紧接着是提示输入密码, Password : 请输入 : "),n("font",{attrs:{color:"red"}},[s._v(" gdzjk@2021 ")]),s._v(" ,这时候你会发现密码输入是没有显示出来的,也没有显示**")],1),s._v(" "),n("p",[s._v("这是正常的,输入之后,按 enter 确认")]),s._v(" "),n("p",[s._v("这时候会提示输入邮箱, Email: (this IS public) : 请输入: "),n("font",{attrs:{color:"red"}},[s._v(" 1218331130@qq.com ")])],1),s._v(" "),n("p",[s._v("登录成功之后会提示:")]),s._v(" "),n("p",[s._v("Logged in as a1218331130 on https://registry.npmjs.org/.")]),s._v(" "),n("p",[s._v("完整的 npm 登录流程就走完了")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("npm login\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如图所示:")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-npmLogin.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("到这一步了是不是很激动,以为就要发布了,别急,请看下自己的 package.json 文件,版本是不是最新的,保证自己发布的时候代码是最新的,如图所示:")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-package.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("本地的 package.json 确认之后,再去 npm 官网 ( https://www.npmjs.com/package/gd_vue_components ) 看下对应的版本,如图所示:")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-npm.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("如果本地版本低于线上的版本,这时发布的话会失败的,理论上不可以往低版本发布,")]),s._v(" "),n("p",[s._v("所以需要手动更改自己本地的 package.json 文件里面的版本即可")]),s._v(" "),n("p",[s._v("更改完成之后执行可以尝试本地打包一次,如果打包不成功需要先解决打包不成功引起的问题,最后在执行发布命令")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//打包命令")]),s._v("\nnpm run build\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//发布命令")]),s._v("\nnpm run tonpm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("发布成功,如图所示:")]),s._v(" "),n("p",[n("img",{attrs:{src:"/gd_common/guideImg/docs-npmSuccess.png",alt:"An image"}})]),s._v(" "),n("p",[s._v("当发布成功之后自己变可以测试最新的线上组件了,需要把本地的 node 包更新,主要也是需要使用 cnpm 执行该命令的")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//@ 后面则是对应的版本信息")]),s._v("\ncnpm i gd_vue_components@"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".37")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("save\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);